(()=>{var t={676:t=>{var n=function(t){"use strict";var n,e=Object.prototype,r=e.hasOwnProperty,o=Object.defineProperty||function(t,n,e){t[n]=e.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{u({},"")}catch(N){u=function(t,n,e){return t[n]=e}}function s(t,n,e,r){var i=n&&n.prototype instanceof y?n:y,a=Object.create(i.prototype),c=new U(r||[]);return o(a,"_invoke",{value:S(t,e,c)}),a}function f(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(N){return{type:"throw",arg:N}}}t.wrap=s;var d="suspendedStart",v="suspendedYield",h="executing",p="completed",m={};function y(){}function _(){}function g(){}var E={};u(E,a,(function(){return this}));var x=Object.getPrototypeOf,T=x&&x(x(D([])));T&&T!==e&&r.call(T,a)&&(E=T);var L=g.prototype=y.prototype=Object.create(E);function A(t){["next","throw","return"].forEach((function(n){u(t,n,(function(t){return this._invoke(n,t)}))}))}function R(t,n){function e(o,i,a,c){var l=f(t[o],t,i);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&r.call(s,"__await")?n.resolve(s.__await).then((function(t){e("next",t,a,c)}),(function(t){e("throw",t,a,c)})):n.resolve(s).then((function(t){u.value=t,a(u)}),(function(t){return e("throw",t,a,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new n((function(n,o){e(t,r,n,o)}))}return i=i?i.then(o,o):o()}})}function S(t,n,e){var r=d;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw i;return F()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=w(a,e);if(c){if(c===m)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(r===d)throw r=p,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r=h;var l=f(t,n,e);if("normal"===l.type){if(r=e.done?p:v,l.arg===m)continue;return{value:l.arg,done:e.done}}"throw"===l.type&&(r=p,e.method="throw",e.arg=l.arg)}}}function w(t,e){var r=e.method,o=t.iterator[r];if(o===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=n,w(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=f(o,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,m;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,m):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function b(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function P(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function U(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function D(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function e(){for(;++o<t.length;)if(r.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=n,e.done=!0,e};return i.next=i}}return{next:F}}function F(){return{value:n,done:!0}}return _.prototype=g,o(L,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:_,configurable:!0}),_.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===_||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,l,"GeneratorFunction")),t.prototype=Object.create(L),t},t.awrap=function(t){return{__await:t}},A(R.prototype),u(R.prototype,c,(function(){return this})),t.AsyncIterator=R,t.async=function(n,e,r,o,i){void 0===i&&(i=Promise);var a=new R(s(n,e,r,o),i);return t.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(L),u(L,l,"Generator"),u(L,a,(function(){return this})),u(L,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var n=Object(t),e=[];for(var r in n)e.push(r);return e.reverse(),function t(){for(;e.length;){var r=e.pop();if(r in n)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=D,U.prototype={constructor:U,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(r,o){return c.type="throw",c.arg=t,e.next=r,o&&(e.method="next",e.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=n,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),m},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),P(e),m}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;P(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:D(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),m}},t}(t.exports);try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},61:function(t,n){"use strict";var e,r=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function a(t){try{l(r.next(t))}catch(n){i(n)}}function c(t){try{l(r.throw(t))}catch(n){i(n)}}function l(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,c)}l((r=r.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.loadImage=n.renderFullScreenCanvas=n.simpleInit=n.createProgram=n.createGlContext=n.useInjectGlData=n.setBlend=n.ensureCanvas=n.DEFAULT_GL2_FRAG=n.DEFAULT_GL1_FRAG=n.DEFAULT_GL2_VERT=n.DEFAULT_GL1_VERT=void 0,n.DEFAULT_GL1_VERT="\nattribute vec2 a_position;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(a_position, 0.0, 1.0);\n    v_texCoord = (a_position + 1.0) * 0.5;\n}",n.DEFAULT_GL2_VERT="#version 300 es\n\n// 顶点位置属性，通常由 WebGL 程序提供\nlayout(location = 0) in vec2 a_position;\n// 将纹理坐标传递给片段着色器\nout vec2 v_texCoord;\n\nvoid main() {\n    // 计算顶点的最终位置\n    gl_Position = vec4(a_position, 0.0, 1.0);\n\n    // 将纹理坐标传递给片段着色器\n    v_texCoord = (a_position + 1.0) * 0.5;\n}\n",n.DEFAULT_GL1_FRAG="\nprecision mediump float;\n\nvoid main(){\n    gl_FragColor=vec4(0.);\n}\n",n.DEFAULT_GL2_FRAG="\n#version 300 es\n\n// 指定默认精度为 highp\nprecision highp float;\nprecision highp sampler2D; // 指定精度和 sampler2D 类型\n\nin vec2 v_texCoord; // 从顶点着色器传入的纹理坐标\nout vec4 fragColor; // 片段颜色输出\n\nuniform vec2 u_resolution;\nuniform float u_time;\n\nvoid main(){\n    vec2 st=v_texCoord.xy/u_resolution.xy;\n    st.x*=u_resolution.x/u_resolution.y;\n\n    fragColor=vec4(0.5);\n}\n\n";const o=Math.min(null!==(e=window.devicePixelRatio)&&void 0!==e?e:1,2);function i(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;t.width=t.clientWidth*n,t.height=t.clientHeight*n}function a(t,n){switch(t.enable(t.BLEND),n){case"add":t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case"multiply":t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;default:t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)}}function c(t,n,e,r){const o=[0,0],i=Date.now();function a(t){const n=e.clientWidth,r=e.clientHeight;o[0]=t.clientX/n,o[1]=t.clientY/r}return e.addEventListener("pointermove",a),{inject:function(){const a=new Date,c=t.getUniformLocation(n,"u_time");t.uniform1f(c,(a.getTime()-i)/1e3);const l=t.getUniformLocation(n,"u_mouse");t.uniform2f(l,...o);const u=t.getUniformLocation(n,"u_resolution");t.uniform2f(u,e.clientWidth*r.ratio,e.clientHeight*r.ratio);const s=t.getUniformLocation(n,"u_date");t.uniform4f(s,a.getFullYear(),a.getMonth()+1,a.getDate(),a.getHours()+a.getMinutes()/60);const f=t.getUniformLocation(n,"iResolution");t.uniform3f(f,e.clientWidth,e.clientHeight,r.ratio)},destroy:()=>{e.removeEventListener("pointermove",a)}}}function l(t){const n=t.getContext("webgl2",{alpha:!0,depth:!0,premultipliedAlpha:!0});if(!n)throw new Error("webgl context create failed");return a(n,"normal"),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n}function u(t,n){if(!t.getShaderParameter(n,t.COMPILE_STATUS)){var e=t.getShaderInfoLog(n);console.error("Shader compile error: "+e)}}function s(t,e){var r,o;const i=t.createProgram(),a=t.createShader(t.VERTEX_SHADER),c=t.createShader(t.FRAGMENT_SHADER);if(!i)throw new Error("program create failed");if(!a||!c)throw new Error("shader create failed");t.shaderSource(a,null!==(r=null==e?void 0:e.vert)&&void 0!==r?r:n.DEFAULT_GL2_VERT),t.shaderSource(c,null!==(o=null==e?void 0:e.frag)&&void 0!==o?o:n.DEFAULT_GL2_FRAG),t.compileShader(a),t.compileShader(c),u(t,a),u(t,c),t.attachShader(i,a),t.attachShader(i,c),t.linkProgram(i),t.useProgram(i);const l=t.getShaderInfoLog(c);if(l&&l.length>0)throw l;return i}function f(t,n){var e,r;const a=null!==(e=null==n?void 0:n.ratio)&&void 0!==e?e:o,u=null!==(r=null==n?void 0:n.fps)&&void 0!==r?r:40;i(t,a);const f=l(t),d=s(f,n),{inject:v,destroy:h}=c(f,d,t,{ratio:a});!function(t,n){const e=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,e);const r=t.getAttribLocation(n,"a_position");t.enableVertexAttribArray(r),t.vertexAttribPointer(r,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,1]),t.STATIC_DRAW)}(f,d),v();let p=0,m=Date.now();const y=1e3/u;function _(){const t=Date.now();t-m>=y&&(m=t,f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),v(),f.drawArrays(f.TRIANGLE_STRIP,0,4)),p=requestAnimationFrame(_)}const g={gl:f,inject:function(t,n){for(var e=arguments.length,r=new Array(e>2?e-2:0),o=2;o<e;o++)r[o-2]=arguments[o];!function(t,n,e,r){const o=t.getUniformLocation(n,e);for(var i=arguments.length,a=new Array(i>4?i-4:0),c=4;c<i;c++)a[c-4]=arguments[c];t[r](o,...a)}(f,d,t,n,...r)},injectTexture:(t,n,e,r)=>{!function(t,n,e){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;var a,c,l,u,s,f,d,v,h,p,m,y,_,g,E,x,T;const L=t.createTexture(),A=t.getUniformLocation(n,e);t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,null===(a=null==i?void 0:i.flip)||void 0===a||a?1:0),t.activeTexture(t[`TEXTURE${r}`]),t.bindTexture(t.TEXTURE_2D,L),(null==i?void 0:i.mipmap)?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,null!==(m=null===(p=null==i?void 0:i.texParameteri)||void 0===p?void 0:p[t.TEXTURE_MIN_FILTER])&&void 0!==m?m:t.LINEAR_MIPMAP_LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,null!==(_=null===(y=null==i?void 0:i.texParameteri)||void 0===y?void 0:y[t.TEXTURE_MAG_FILTER])&&void 0!==_?_:t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,null!==(E=null===(g=null==i?void 0:i.texParameteri)||void 0===g?void 0:g[t.TEXTURE_WRAP_S])&&void 0!==E?E:t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,null!==(T=null===(x=null==i?void 0:i.texParameteri)||void 0===x?void 0:x[t.TEXTURE_WRAP_T])&&void 0!==T?T:t.CLAMP_TO_EDGE)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,null!==(l=null===(c=null==i?void 0:i.texParameteri)||void 0===c?void 0:c[t.TEXTURE_MIN_FILTER])&&void 0!==l?l:t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,null!==(s=null===(u=null==i?void 0:i.texParameteri)||void 0===u?void 0:u[t.TEXTURE_MAG_FILTER])&&void 0!==s?s:t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,null!==(d=null===(f=null==i?void 0:i.texParameteri)||void 0===f?void 0:f[t.TEXTURE_WRAP_S])&&void 0!==d?d:t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,null!==(h=null===(v=null==i?void 0:i.texParameteri)||void 0===v?void 0:v[t.TEXTURE_WRAP_T])&&void 0!==h?h:t.CLAMP_TO_EDGE)),t.uniform1i(A,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,o),(null==i?void 0:i.mipmap)&&t.generateMipmap(t.TEXTURE_2D)}(f,d,t,n,e,r)},play:()=>{cancelAnimationFrame(p),_()},stop:()=>{cancelAnimationFrame(p)}};return(null==n?void 0:n.autoPlay)&&g.play(),g}n.ensureCanvas=i,n.setBlend=a,n.useInjectGlData=c,n.createGlContext=l,n.createProgram=s,n.simpleInit=f,n.renderFullScreenCanvas=function(t){const n=document.createElement("canvas");return document.body.style.cssText+="margin:0;padding:0;",n.style.cssText="display:block;width:100vw;height:100vh;background:transparent;",document.body.appendChild(n),i(n),f(n,t)},n.loadImage=function(t,n){return r(this,void 0,void 0,(function*(){return new Promise(((e,r)=>{const o=null!=n?n:new Image;o.crossOrigin="anonymous",o.onload=()=>e(o),o.onerror=r,o.src=t}))}))}},164:function(t,n){"use strict";var e=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function a(t){try{l(r.next(t))}catch(n){i(n)}}function c(t){try{l(r.throw(t))}catch(n){i(n)}}function l(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,c)}l((r=r.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.loadImage=void 0,n.loadImage=function(t){return e(this,void 0,void 0,(function*(){return new Promise(((n,e)=>{const r=new Image;r.src=t,r.onload=()=>n(r),r.onerror=e}))}))}},683:function(t,n,e){"use strict";var r=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function a(t){try{l(r.next(t))}catch(n){i(n)}}function c(t){try{l(r.throw(t))}catch(n){i(n)}}function l(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,c)}l((r=r.apply(t,n||[])).next())}))},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});const i=e(61),a=o(e(316)),c=o(e(564)),l=e(164);!function(){r(this,void 0,void 0,(function*(){const t=yield(0,l.loadImage)(c.default),{gl:n,injectTexture:e}=(0,i.renderFullScreenCanvas)({frag:a.default,autoPlay:!0});e("background",0,t),document.body.addEventListener("dragover",(t=>t.preventDefault())),document.body.addEventListener("drop",(t=>r(this,void 0,void 0,(function*(){t.preventDefault();const n=Array.from(t.dataTransfer.files).find((t=>t.name.endsWith(".png")||t.name.endsWith(".jpg"))),r=yield(0,l.loadImage)(URL.createObjectURL(n));e("background",0,r)}))))}))}()},316:(t,n,e)=>{"use strict";e.r(n),e.d(n,{default:()=>r});const r="#version 300 es\n\n// 指定默认精度为 highp\nprecision highp float;\nprecision highp sampler2D;// 指定精度和 sampler2D 类型\n\nin vec2 v_texCoord;// 从顶点着色器传入的纹理坐标\nout vec4 fragColor;// 片段颜色输出\n\nuniform vec2 u_resolution;\nuniform float u_time;\nuniform sampler2D background;\n\n#define S(a,b,t)smoothstep(a,b,t)\n\n//#define CHEAP_NORMALS\n//#define HAS_HEART\n//#define USE_POST_PROCESSING\n\nvec3 N13(float p){\n    //  from DAVE HOSKINS\n    vec3 p3=fract(vec3(p)*vec3(.1031,.11369,.13787));\n    p3+=dot(p3,p3.yzx+19.19);\n    return fract(vec3((p3.x+p3.y)*p3.z,(p3.x+p3.z)*p3.y,(p3.y+p3.z)*p3.x));\n}\n\nvec4 N14(float t){\n    return fract(sin(t*vec4(123.,1024.,1456.,264.))*vec4(6547.,345.,8799.,1564.));\n}\nfloat N(float t){\n    return fract(sin(t*12345.564)*7658.76);\n}\n\nfloat Saw(float b,float t){\n    return S(0.,b,t)*S(1.,b,t);\n}\n\nvec2 DropLayer2(vec2 uv,float t){\n    vec2 UV=uv;\n    \n    uv.y+=t*.75;\n    vec2 a=vec2(6.,1.);\n    vec2 grid=a*2.;\n    vec2 id=floor(uv*grid);\n    \n    float colShift=N(id.x);\n    uv.y+=colShift;\n    \n    id=floor(uv*grid);\n    vec3 n=N13(id.x*35.2+id.y*2376.1);\n    vec2 st=fract(uv*grid)-vec2(.5,0);\n    \n    float x=n.x-.5;\n    \n    float y=UV.y*20.;\n    float wiggle=sin(y+sin(y));\n    x+=wiggle*(.5-abs(x))*(n.z-.5);\n    x*=.7;\n    float ti=fract(t+n.z);\n    y=(Saw(.85,ti)-.5)*.9+.5;\n    vec2 p=vec2(x,y);\n    \n    float d=length((st-p)*a.yx);\n    \n    float mainDrop=S(.4,.0,d);\n    \n    float r=sqrt(S(1.,y,st.y));\n    float cd=abs(st.x-x);\n    float trail=S(.23*r,.15*r*r,cd);\n    float trailFront=S(-.02,.02,st.y-y);\n    trail*=trailFront*r*r;\n    \n    y=UV.y;\n    float trail2=S(.2*r,.0,cd);\n    float droplets=max(0.,(sin(y*(1.-y)*120.)-st.y))*trail2*trailFront*n.z;\n    y=fract(y*10.)+(st.y-.5);\n    float dd=length(st-vec2(x,y));\n    droplets=S(.3,0.,dd);\n    float m=mainDrop+droplets*r*trailFront;\n    \n    //m += st.x>a.y*.45 || st.y>a.x*.165 ? 1.2 : 0.;\n    return vec2(m,trail);\n}\n\nfloat StaticDrops(vec2 uv,float t){\n    uv*=40.;\n    \n    vec2 id=floor(uv);\n    uv=fract(uv)-.5;\n    vec3 n=N13(id.x*107.45+id.y*3543.654);\n    vec2 p=(n.xy-.5)*.7;\n    float d=length(uv-p);\n    \n    float fade=Saw(.025,fract(t+n.z));\n    float c=S(.3,0.,d)*fract(n.z*10.)*fade;\n    return c;\n}\n\nvec2 Drops(vec2 uv,float t,float l0,float l1,float l2){\n    float s=StaticDrops(uv,t)*l0;\n    vec2 m1=DropLayer2(uv,t)*l1;\n    vec2 m2=DropLayer2(uv*1.85,t)*l2;\n    \n    float c=s+m1.x+m2.x;\n    c=S(.3,1.,c);\n    \n    return vec2(c,max(m1.y*l0,m2.y*l1));\n}\n\nvoid main()\n{\n    // vec2 uv=v_texCoord.xy;\n    vec2 uv=(v_texCoord.xy*u_resolution.xy)/max(u_resolution.x,u_resolution.y) * 2.;\n    vec2 UV=(v_texCoord.xy*u_resolution.xy)/max(u_resolution.x,u_resolution.y);\n    // vec2 UV=v_texCoord.xy;\n    // vec2 UV=v_texCoord.xy/u_resolution.xy;\n    // vec3 M=iMouse.xyz/u_resolution.xyz;\n    float T=u_time;\n    \n    float t=T*.1;\n    \n    float rainAmount=sin(T*.05)*.3+.7;\n    \n    float maxBlur=mix(3.,6.,rainAmount);\n    float minBlur=2.;\n    \n    float story=0.;\n    float heart=0.;\n    \n    float zoom=1.;//-cos(T*.2);\n    uv*=.7+zoom*.3;\n    \n    UV=(UV-.5)*(.9+zoom*.1)+.5;\n    \n    float staticDrops=S(-.5,1.,rainAmount)*2.;\n    float layer1=S(.25,.75,rainAmount);\n    float layer2=S(.0,.5,rainAmount);\n    \n    vec2 c=Drops(uv,t,staticDrops,layer1,layer2);\n    #ifdef CHEAP_NORMALS\n    vec2 n=vec2(dFdx(c.x),dFdy(c.x));// cheap normals (3x cheaper, but 2 times shittier ;))\n    #else\n    vec2 e=vec2(.001,0.);\n    float cx=Drops(uv+e,t,staticDrops,layer1,layer2).x;\n    float cy=Drops(uv+e.yx,t,staticDrops,layer1,layer2).x;\n    vec2 n=vec2(cx-c.x,cy-c.x);// expensive normals\n    #endif\n    \n    float focus=mix(maxBlur-c.y,minBlur,S(.1,.2,c.x));\n    vec3 col=textureLod(background,UV+n,focus*2.).rgb;\n    // vec3 col=vec3(focus / 100.).rgb;\n    \n    // #ifdef USE_POST_PROCESSING\n    // t = (T+3.)*.5;\t\t\t\t\t\t\t\t\t\t// make time sync with first lightnoing\n    // float colFade = sin(t*.2)*.5+.5+story;\n    // col *= mix(vec3(1.), vec3(.8, .9, 1.3), colFade);\t// subtle color shift\n    // float fade = S(0., 10., T);\t\t\t\t\t\t\t// fade in at the start\n    // float lightning = sin(t*sin(t*10.));\t\t\t\t// lighting flicker\n    // lightning *= pow(max(0., sin(t+sin(t))), 10.);\t\t// lightning flash\n    // col *= 1.+lightning*fade*mix(1., .1, story*story);\t// composite lightning\n    // col *= 1.-dot(UV-=.5, UV);\t\t\t\t\t\t\t// vignette\n    // col *= fade;\t\t\t\t\t\t\t\t\t\t// composite start and end fade\n    // #endif\n    \n    //col = vec3(heart);\n    fragColor=vec4(col,1.);\n}"},564:(t,n,e)=>{"use strict";e.r(n),e.d(n,{default:()=>r});const r="./images/8786386b92056248e80b35707b2e9be9.png"}},n={};function e(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={exports:{}};return t[r].call(i.exports,i,i.exports,e),i.exports}e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e(676);e(683)})();